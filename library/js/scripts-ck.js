/*
 * Bones Scripts File
 * Author: Eddie Machado
 *
 * This file should contain any js scripts you want to add to the site.
 * Instead of calling it in the header or throwing it inside wp_head()
 * this file will be called automatically in the footer so as not to
 * slow the page load.
 *
 * There are a lot of example functions and tools in here. If you don't
 * need any of it, just remove it. They are meant to be helpers and are
 * not required. It's your world baby, you can do whatever you want.
*//*
 * Get Viewport Dimensions
 * returns object with viewport dimensions to match css in width and height properties
 * ( source: http://andylangton.co.uk/blog/development/get-viewport-size-width-and-height-javascript )
*/function updateViewportDimensions(){var e=window,t=document,n=t.documentElement,r=t.getElementsByTagName("body")[0],i=e.innerWidth||n.clientWidth||r.clientWidth,s=e.innerHeight||n.clientHeight||r.clientHeight;return{width:i,height:s}}function loadGravatars(){viewport=updateViewportDimensions();viewport.width>=768&&jQuery(".comment img[data-gravatar]").each(function(){jQuery(this).attr("src",jQuery(this).attr("data-gravatar"))})}var viewport=updateViewportDimensions(),waitForFinalEvent=function(){var e={};return function(t,n,r){r||(r="Don't call this twice without a uniqueId");e[r]&&clearTimeout(e[r]);e[r]=setTimeout(t,n)}}(),timeToWaitForLast=100;jQuery(document).ready(function(e){e("#nav-icon").click(function(){e("#main-navigation").slideToggle()});e("#game-start").click(function(){function r(){if(n<11){e("#counter").css("color","red");e("#counter").css("font-size","28px")}e("#counter").html(n--)}e("#game-start, #respond, .article-footer").hide();var t=6e4;e("#game-image").fadeIn().delay(t).fadeOut();e("#game-question-container").delay(t+1e3).fadeIn();e(".games #sidebar1").fadeOut();e(".games #instructions").fadeOut();e(".games .ninecol").css("width","100%");var n=t/1e3,i=setInterval(function(){r()},990);return!1});e("#check-answers").click(function(){e("#game-question-container .correct").css("color","green");e("#game-question-container .incorrect").css("color","red");e("#game-image, #respond, .article-footer").fadeIn();e("#check-answers, #counter-container").hide();var t=e("#game-question-container .correct input:checked").length,n=e("#game-question-container .question").length,r=t/n,i;r==1?i=" Perfect score! You are awesome! Donuts all around!":r>=.8?i=" Good job! How about a piece of pie!":r>=.6?i=" Not bad! Treat yourself to some orange juice!":r>=.4?i=" Okay, it was a little tricky! Try again!":r>=.2?i=" Concentrate a little harder next time. Try it again!":r==0&&(i=" Uh Ohhh! Hey, try again!");e("#your-score").show();e("#your-score").html("You scored "+t+" out of "+n+".<br />"+i+'<br />Correct answers are <span class="green">green</span>.<br />Incorrect answers are <span class="red">red</span><br />Look at the painting below to see what you missed...or didn\'t miss.<br /><a href="">Play Again</a>');return!1});jQuery("#forgery-scores").html('<p id="answer-buttons"><a id="show-answers">Show Answers</a><a id="hide-answers">Hide Answers</a></p><h4>Your Choices</h4><table id="forgery-table-scores"><tr><th>Right</th><th>Wrong</th><th>Total</th><th class="border-none">%</th></tr><tr><td id="f-right">0</td><td id="f-wrong">0</td><td id="f-total">0</td><td id="f-percent">-----</tr></table>');jQuery("#forgery-instructions").html('Click the area of the forgery image where you think the forgery is. There are 10 forgery areas.<br />Beware of the X! Correct choices show a <span style="border:1px solid red;">red border</span>.');jQuery("#you-won").html('Wow! Outstanding!<br /><a id="reload">Click here to play again</a>');var t=jQuery("#forgery-game-image .box"),n=0,r=0,i=new Array,s;jQuery("#forgery-game-image, #forgery-game-image .right").click(function(t){var o=jQuery(this).attr("data-id");if(o=="0"){r+=1;jQuery("#f-wrong").html(r);var u=e(this).offset(),a=t.pageX-u.left,f=t.pageY-u.top,l=jQuery(this).height(),c=jQuery(this).width(),h=a/c*100-1,p=f/l*100-1;jQuery(this).append('<div style="left:'+h+"%;top:"+p+'%;" class="wrong-box">X</div>')}else{guess_num=jQuery(this).attr("data-id");if(jQuery.inArray(guess_num,i)<0){i.push(guess_num);n+=1;jQuery("#f-right").html(n);jQuery(this).addClass("guessed");jQuery(this).html("<span>Correct!</span>");jQuery("#forgery-game-image .box span").delay(500).fadeOut(500)}else alert("You've already guessed this one")}jQuery("#f-total").html(r+n);s=Math.floor(n/(r+n)*100);jQuery("#f-percent").html(s+"%");t.stopPropagation();n>9&&jQuery("#you-won").fadeIn(500)});jQuery("#show-answers").click(function(){if(confirm('Are you really sure you want to see the answers?\nCome on. Give it another shot. Don\'t give up yet!\nClick "Cancel" to keep trying.')){jQuery("#forgery-game-image .box").addClass("guessed");jQuery("#show-answers").css("top","-50px");jQuery("#hide-answers").css("top","0px")}});jQuery("#hide-answers").click(function(){jQuery("#forgery-game-image .box").removeClass("guessed");jQuery("#show-answers").css("top","0px");jQuery("#hide-answers").css("top","-50px");n=0;r=0;i=new Array;s=0;jQuery("#f-total").html("0");jQuery("#f-percent").html(s+"%");jQuery("#f-right").html("0");jQuery("#f-wrong").html("0");jQuery("#forgery-game-image .box").removeClass("guessed");jQuery("#forgery-game-image .wrong-box").hide();jQuery("#you-won").fadeOut(500)});jQuery("#reload").click(function(e){n=0;r=0;i=new Array;s=0;jQuery("#f-total").html("0");jQuery("#f-percent").html(s+"%");jQuery("#f-right").html("0");jQuery("#f-wrong").html("0");e.stopPropagation();jQuery("#forgery-game-image .box").removeClass("guessed");jQuery("#forgery-game-image .wrong-box").hide();jQuery("#you-won").fadeOut(500)});loadGravatars()});